# $FreeBSD$

# This file is not autogenerated - take care!

.if !defined(MK_FORTH)
.include <src.opts.mk>
.endif

_sys_boot_efi= sys/boot/efi/loader sys/boot/efi/boot1
.if ${MK_FDT} != "no"
_sys_boot_fdt= sys/boot/fdt sys/boot/efi/fdt
.endif
.if ${MK_ZFS} != "no"
_sys_boot_zfs= sys/boot/zfs
.endif

DIRDEPS = \
	etc \
	etc/newsyslog.conf.d \
	etc/sendmail \
	rescue/librescue \
	rescue/rescue \

.if ${MK_BOOT} != "no"
DIRDEPS+= sys/boot/common

.if ${MK_FORTH} != "no"
DIRDEPS+= \
	sys/boot/ficl \
	sys/boot/forth \

.endif

DIRDEPS.x86sys= \
	sys/boot/efi/libefi \
	sys/boot/geli \
	sys/boot/i386/boot0 \
	sys/boot/i386/boot0sio \
	sys/boot/i386/boot2 \
	sys/boot/i386/btx/btx \
	sys/boot/i386/btx/btxldr \
	sys/boot/i386/btx/lib \
	sys/boot/i386/cdboot \
	sys/boot/i386/gptboot \
	sys/boot/i386/libfirewire \
	sys/boot/i386/libi386 \
	sys/boot/i386/loader \
	sys/boot/i386/mbr \
	sys/boot/i386/pmbr \
	sys/boot/i386/pxeldr \
	sys/boot/libsa32 \
	${_sys_boot_zfs} \

.if ${MK_ZFS} != "no"
DIRDEPS.x86sys+= \
	sys/boot/i386/gptzfsboot \
	sys/boot/i386/zfsboot \
	sys/boot/i386/zfsloader \

DIRDEPS+= \
	sbin/zfsbootcfg \

.endif

DIRDEPS.amd64= \
	${DIRDEPS.x86sys} \
	${_sys_boot_efi} \
	sys/boot/ficl32 \
	sys/boot/userboot/test \
	sys/boot/userboot/userboot \

.if ${MK_ZFS} != "no"
DIRDEPS.amd64+= \
	sys/boot/zfs32 \

.endif

.if ${MK_EFI} != "no"
DIRDEPS+= \
	usr.sbin/efivar \

.endif

DIRDEPS.arm= ${_sys_boot_fdt} ${_sys_boot_efi}
DIRDEPS.arm64= ${_sys_boot_fdt} ${_sys_boot_efi}
DIRDEPS.i386= ${DIRDEPS.x86sys} ${_sys_boot_efi} sys/boot/i386/kgzldr
DIRDEPS.powerpc= ${_sys_boot_fdt} sys/boot/libsa32 sys/boot/ofw sys/boot/uboot
DIRDEPS.sparc64= sys/boot/ofw ${_sys_boot_zfs}
.endif

DIRDEPS+= ${DIRDEPS.${MACHINE}:U}

.include <dirdeps.mk>
