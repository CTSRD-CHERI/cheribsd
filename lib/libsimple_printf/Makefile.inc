
CFLAGS+=-I${SRCTOP}/lib/libc/${LIBSIMPLE_PRINTF_ARCH} -I${PRINTF_DIR}
PRINTF_DIR=${SRCTOP}/lib/libsimple_printf
.if exists(${PRINTF_DIR}/${MACHINE_ARCH})
LIBSIMPLE_PRINTF_ARCH=	${MACHINE_ARCH}
.else
LIBSIMPLE_PRINTF_ARCH=	${MACHINE_CPUARCH}
.endif

CSTD?=		gnu11
.PATH: ${PRINTF_DIR}/${LIBSIMPLE_PRINTF_ARCH}
SRCS+=	write.S
# CFLAGS.write.S+=	-fpic -DPIC $(DEBUG)
.PATH: ${PRINTF_DIR}
SRCS+=	simple_printf.c

CFLAGS+=	-DSIMPLE_PRINTF_PREFIX=${SIMPLE_PRINTF_PREFIX}
WARNS?=	6
