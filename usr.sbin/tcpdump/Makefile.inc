WARNS?=		3

TCPDUMP_DISTDIR?= ${SRCTOP}/contrib/tcpdump
.PATH: ${TCPDUMP_DISTDIR}

CFLAGS+=	-I${.CURDIR:H} -I${TCPDUMP_DISTDIR}
CFLAGS+=	-DHAVE_CONFIG_H
CFLAGS+=	-D_U_="__attribute__((unused))"

.if ${MK_INET6_SUPPORT} != "no"
CFLAGS+=	-DINET6 -DHAVE_OS_IPV6_SUPPORT
.endif

LIBADD+=	pcap
.if ${MK_OPENSSL} != "no"
LIBADD+=	crypto
CFLAGS+=	-I${SYSROOT:U${DESTDIR}}/usr/include/openssl
CFLAGS+=	-DHAVE_LIBCRYPTO -DHAVE_OPENSSL_EVP_H
CFLAGS+=	-DOPENSSL_API_COMPAT=0x10100000L
.endif

.include "../Makefile.inc"
